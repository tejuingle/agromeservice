<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - AgroMePlus</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #28a745;
      --secondary-color: #218838;
      --accent-color: #e74c3c;
      --text-color: #333;
      --light-gray: #f5f5f5;
      --medium-gray: #ddd;
      --dark-gray: #777;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Roboto', sans-serif;
    }
    
    body {
      background-color: #f9f9f9;
      color: var(--text-color);
    }
    
    .container {
      max-width: 1200px;
      margin: 100px auto 50px;
      padding: 0 20px;
    }
    
    .checkout-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .checkout-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-color);
      margin-bottom: 10px;
    }
    
    .checkout-steps {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }
    
    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 15px;
      position: relative;
    }
    
    .step-number {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: var(--medium-gray);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 5px;
      font-weight: 700;
    }
    
    .step.active .step-number {
      background-color: var(--primary-color);
    }
    
    .step.completed .step-number {
      background-color: var(--primary-color);
    }
    
    .step.completed .step-number::after {
      content: "\f00c";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
    }
    
    .step-label {
      font-size: 14px;
      color: var(--dark-gray);
    }
    
    .step.active .step-label {
      color: var(--primary-color);
      font-weight: 500;
    }
    
    .step::after {
      content: "";
      position: absolute;
      top: 15px;
      left: 100%;
      width: 30px;
      height: 2px;
      background-color: var(--medium-gray);
    }
    
    .step:last-child::after {
      display: none;
    }
    
    .checkout-container {
      display: grid;
      grid-template-columns: 1.5fr 1fr;
      gap: 30px;
    }
    
    @media (max-width: 768px) {
      .checkout-container {
        grid-template-columns: 1fr;
      }
    }
    
    /* Shipping Information Section */
    .checkout-section {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      padding: 25px;
      margin-bottom: 30px;
    }
    
    .section-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--text-color);
      display: flex;
      align-items: center;
    }
    
    .section-title i {
      margin-right: 10px;
      color: var(--primary-color);
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    @media (max-width: 576px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 14px;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid var(--medium-gray);
      border-radius: 6px;
      font-size: 16px;
      transition: border-color 0.3s;
    }
    
    input:focus, select:focus, textarea:focus {
      border-color: var(--primary-color);
      outline: none;
    }
    
    /* Cart Review Section */
    .cart-review-item {
      display: flex;
      padding: 15px 0;
      border-bottom: 1px solid var(--medium-gray);
    }
    
    .cart-review-item:last-child {
      border-bottom: none;
    }
    
    .review-item-image {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-right: 15px;
      border: 1px solid var(--medium-gray);
      border-radius: 4px;
      padding: 5px;
    }
    
    .review-item-details {
      flex: 1;
    }
    
    .review-item-name {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 5px;
      color: var(--text-color);
    }
    
    .review-item-brand {
      font-size: 13px;
      color: var(--dark-gray);
      margin-bottom: 5px;
    }
    
    .review-item-category {
      font-size: 13px;
      color: var(--dark-gray);
      margin-bottom: 8px;
    }
    
    .review-item-price {
      font-size: 16px;
      font-weight: 700;
      color: var(--primary-color);
    }
    
    .review-item-quantity {
      display: flex;
      align-items: center;
      margin-top: 8px;
    }
    
    .quantity-label {
      font-size: 14px;
      margin-right: 10px;
    }
    
    .quantity-value {
      font-weight: 700;
    }
    
    /* Payment Summary Section */
    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 16px;
    }
    
    .summary-row.total {
      font-weight: 700;
      font-size: 18px;
      margin: 20px 0;
      padding-top: 10px;
      border-top: 1px solid var(--medium-gray);
    }
    
    .discount-row {
      color: var(--primary-color);
    }
    
    /* Payment Methods Section */
    .payment-methods {
      margin-top: 20px;
    }
    
    .payment-option {
      margin-bottom: 15px;
    }
    
    .payment-radio {
      display: none;
    }
    
    .payment-label {
      display: flex;
      align-items: center;
      padding: 15px;
      border: 1px solid var(--medium-gray);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .payment-radio:checked + .payment-label {
      border-color: var(--primary-color);
      background-color: rgba(40, 167, 69, 0.05);
    }
    
    .payment-icon {
      width: 40px;
      height: 40px;
      margin-right: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: var(--primary-color);
    }
    
    .payment-details {
      flex: 1;
    }
    
    .payment-title {
      font-weight: 600;
      margin-bottom: 3px;
    }
    
    .payment-description {
      font-size: 13px;
      color: var(--dark-gray);
    }
    
    /* Payment Forms */
    .payment-form {
      display: none;
      padding: 20px;
      background-color: #f8f9fa;
      border-radius: 6px;
      margin-top: 10px;
    }
    
    .payment-radio:checked ~ .payment-form {
      display: block;
    }
    
    .card-icons {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .card-icon {
      width: 40px;
      height: 25px;
      object-fit: contain;
      border: 1px solid var(--medium-gray);
      border-radius: 4px;
      padding: 3px;
    }
    
    .form-half-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    .upi-apps {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-bottom: 15px;
    }
    
    @media (max-width: 576px) {
      .upi-apps {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    .upi-app {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px;
      border: 1px solid var(--medium-gray);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .upi-app:hover, .upi-app.selected {
      border-color: var(--primary-color);
      background-color: rgba(40, 167, 69, 0.05);
    }
    
    .upi-app-icon {
      width: 40px;
      height: 40px;
      object-fit: contain;
      margin-bottom: 5px;
    }
    
    .upi-app-name {
      font-size: 12px;
      text-align: center;
    }
    
    .qr-code {
      width: 150px;
      height: 150px;
      margin: 15px auto;
      padding: 10px;
      background: white;
      border: 1px solid var(--medium-gray);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .qr-code img {
      max-width: 100%;
      max-height: 100%;
    }
    
    .netbanking-banks {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    
    .bank-option {
      padding: 10px;
      border: 1px solid var(--medium-gray);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .bank-option:hover, .bank-option.selected {
      border-color: var(--primary-color);
      background-color: rgba(40, 167, 69, 0.05);
    }
    
    /* Place Order Button */
    .place-order-btn {
      width: 100%;
      padding: 15px;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s;
      margin-top: 20px;
    }
    
    .place-order-btn:hover {
      background-color: var(--secondary-color);
    }
    
    /* Responsive Adjustments */
    @media (max-width: 576px) {
      .checkout-header {
        margin-bottom: 20px;
      }
      
      .checkout-title {
        font-size: 24px;
      }
      
      .step {
        margin: 0 8px;
      }
      
      .step::after {
        width: 15px;
      }
    }
  </style>
</head>
<body>
  <!-- Include Header -->
  <div id="header-container"></div>
  
  <div class="container">
    <div class="checkout-header">
      <h1 class="checkout-title">Secure Checkout</h1>
      <div class="checkout-steps">
        <div class="step active">
          <div class="step-number">1</div>
          <div class="step-label">Shipping</div>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <div class="step-label">Payment</div>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <div class="step-label">Confirmation</div>
        </div>
      </div>
    </div>
    
    <div class="checkout-container">
      <div class="checkout-left">
        <!-- Shipping Information -->
        <div class="checkout-section">
          <h2 class="section-title"><i class="fas fa-truck"></i>Shipping Information</h2>
          <form id="shipping-form">
            <div class="form-group">
              <label for="full-name">Full Name</label>
              <input type="text" id="full-name" name="full-name" required>
            </div>
            
            <div class="form-group">
              <label for="address">Address</label>
              <textarea id="address" name="address" rows="3" required></textarea>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="city">City</label>
                <input type="text" id="city" name="city" required>
              </div>
              
              <div class="form-group">
                <label for="state">State</label>
                <input type="text" id="state" name="state" required>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="pincode">PIN Code</label>
                <input type="text" id="pincode" name="pincode" required>
              </div>
              
              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone" required>
              </div>
            </div>
          </form>
        </div>
        
        <!-- Payment Method -->
        <div class="checkout-section">
          <h2 class="section-title"><i class="fas fa-credit-card"></i>Payment Method</h2>
          <div class="payment-methods">
            <!-- Credit/Debit Card -->
            <div class="payment-option">
              <input type="radio" id="card-payment" name="payment-method" class="payment-radio" checked>
              <label for="card-payment" class="payment-label">
                <div class="payment-icon">
                  <i class="far fa-credit-card"></i>
                </div>
                <div class="payment-details">
                  <div class="payment-title">Credit/Debit Card</div>
                  <div class="payment-description">Pay using Visa, Mastercard, Rupay or other cards</div>
                </div>
              </label>
              
              <div class="payment-form" id="card-form">
                <div class="card-icons">
                  <img src="https://logo.clearbit.com/visa.com" alt="Visa" class="card-icon">
                  <img src="https://logo.clearbit.com/mastercard.com" alt="Mastercard" class="card-icon">
                  <img src="https://logo.clearbit.com/americanexpress.com" alt="Amex" class="card-icon">
                  <img src="https://logo.clearbit.com/rupay.co.in" alt="Rupay" class="card-icon">
                </div>
                
                <div class="form-group">
                  <label for="card-number">Card Number</label>
                  <input type="text" id="card-number" name="card-number" placeholder="1234 5678 9012 3456">
                </div>
                
                <div class="form-group">
                  <label for="card-name">Name on Card</label>
                  <input type="text" id="card-name" name="card-name">
                </div>
                
                <div class="form-row">
                  <div class="form-group">
                    <label for="card-expiry">Expiry Date</label>
                    <input type="text" id="card-expiry" name="card-expiry" placeholder="MM/YY">
                  </div>
                  
                  <div class="form-group">
                    <label for="card-cvv">CVV</label>
                    <input type="text" id="card-cvv" name="card-cvv" placeholder="123">
                  </div>
                </div>
              </div>
            </div>
            
            <!-- UPI -->
            <div class="payment-option">
              <input type="radio" id="upi-payment" name="payment-method" class="payment-radio">
              <label for="upi-payment" class="payment-label">
                <div class="payment-icon">
                  <i class="fas fa-mobile-alt"></i>
                </div>
                <div class="payment-details">
                  <div class="payment-title">UPI</div>
                  <div class="payment-description">Pay using any UPI app like Google Pay, PhonePe, etc.</div>
                </div>
              </label>
              
              <div class="payment-form" id="upi-form">
                <div class="upi-apps">
                  <div class="upi-app selected">
                    <img src="https://logo.clearbit.com/gpay.com" alt="Google Pay" class="upi-app-icon">
                    <div class="upi-app-name">Google Pay</div>
                  </div>
                  <div class="upi-app">
                    <img src="https://logo.clearbit.com/phonepe.com" alt="PhonePe" class="upi-app-icon">
                    <div class="upi-app-name">PhonePe</div>
                  </div>
                  <div class="upi-app">
                    <img src="https://logo.clearbit.com/paytm.com" alt="Paytm" class="upi-app-icon">
                    <div class="upi-app-name">Paytm</div>
                  </div>
                  <div class="upi-app">
                    <img src="https://logo.clearbit.com/bhimupi.org.in" alt="BHIM" class="upi-app-icon">
                    <div class="upi-app-name">BHIM</div>
                  </div>
                </div>
                
                <div class="form-group">
                  <label for="upi-id">UPI ID</label>
                  <input type="text" id="upi-id" name="upi-id" placeholder="yourname@upi">
                </div>
                
                <div class="qr-code">
                  <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=UPI-PAYMENT-EXAMPLE" alt="UPI QR Code">
                </div>
                
                <p style="text-align: center; font-size: 14px; color: var(--dark-gray);">
                  Scan this QR code with any UPI app to pay
                </p>
              </div>
            </div>
            
            <!-- Net Banking -->
            <div class="payment-option">
              <input type="radio" id="netbanking-payment" name="payment-method" class="payment-radio">
              <label for="netbanking-payment" class="payment-label">
                <div class="payment-icon">
                  <i class="fas fa-university"></i>
                </div>
                <div class="payment-details">
                  <div class="payment-title">Net Banking</div>
                  <div class="payment-description">Pay directly from your bank account</div>
                </div>
              </label>
              
              <div class="payment-form" id="netbanking-form">
                <div class="netbanking-banks">
                  <div class="bank-option selected">
                    <div>SBI</div>
                  </div>
                  <div class="bank-option">
                    <div>HDFC</div>
                  </div>
                  <div class="bank-option">
                    <div>ICICI</div>
                  </div>
                  <div class="bank-option">
                    <div>Axis</div>
                  </div>
                  <div class="bank-option">
                    <div>Kotak</div>
                  </div>
                  <div class="bank-option">
                    <div>Other Bank</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Cash on Delivery -->
            <div class="payment-option">
              <input type="radio" id="cod-payment" name="payment-method" class="payment-radio">
              <label for="cod-payment" class="payment-label">
                <div class="payment-icon">
                  <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="payment-details">
                  <div class="payment-title">Cash on Delivery</div>
                  <div class="payment-description">Pay when you receive your order</div>
                </div>
              </label>
              
              <div class="payment-form" id="cod-form">
                <p style="color: var(--dark-gray);">Pay with cash when your order is delivered. An extra ₹50 may be charged for COD orders.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="checkout-right">
        <!-- Order Summary -->
        <div class="checkout-section">
          <h2 class="section-title"><i class="fas fa-shopping-bag"></i>Order Summary</h2>
          
          <div id="cart-review-items">
            <!-- Cart items will be dynamically inserted here -->
          </div>
          
          <div class="summary-row">
            <span>Subtotal:</span>
            <span id="checkout-subtotal">₹0.00</span>
          </div>
          
          <div class="summary-row">
            <span>Shipping:</span>
            <span>FREE</span>
          </div>
          
          <div class="summary-row">
            <span>Tax (5%):</span>
            <span id="checkout-tax">₹0.00</span>
          </div>
          
          <div class="summary-row discount-row">
            <span>Discount:</span>
            <span id="checkout-discount">-₹0.00</span>
          </div>
          
          <div class="summary-row total">
            <span>Total:</span>
            <span id="checkout-total">₹0.00</span>
          </div>
          
          <button id="place-order-btn" class="place-order-btn">Place Order</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Include Footer -->
  <div id="footer-container"></div>
  
  <script>
    // Load header and footer
    document.addEventListener('DOMContentLoaded', function() {
      fetch('header.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('header-container').innerHTML = data;
        });
      
      fetch('footer.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('footer-container').innerHTML = data;
        })
        .then(() => {
          // Initialize checkout after header is loaded
          initializeCheckout();
        });
    });
    
    // Checkout functionality
    function initializeCheckout() {
      const checkoutData = JSON.parse(localStorage.getItem('checkoutData'));
      const cartReviewItems = document.getElementById('cart-review-items');
      const checkoutSubtotal = document.getElementById('checkout-subtotal');
      const checkoutTax = document.getElementById('checkout-tax');
      const checkoutTotal = document.getElementById('checkout-total');
      const checkoutDiscount = document.getElementById('checkout-discount');
      const placeOrderBtn = document.getElementById('place-order-btn');
      
      if (!checkoutData || !checkoutData.items || checkoutData.items.length === 0) {
        // Redirect to cart if empty
        window.location.href = 'cart.html';
        return;
      }
      
      // Calculate discount (10% for demo purposes)
      const discount = checkoutData.subtotal * 0.10;
      const total = checkoutData.subtotal + checkoutData.tax - discount;
      
      // Update summary
      checkoutSubtotal.textContent = `₹${checkoutData.subtotal.toFixed(2)}`;
      checkoutTax.textContent = `₹${checkoutData.tax.toFixed(2)}`;
      checkoutDiscount.textContent = `-₹${discount.toFixed(2)}`;
      checkoutTotal.textContent = `₹${total.toFixed(2)}`;
      
      // Render cart items
      cartReviewItems.innerHTML = checkoutData.items.map(item => `
        <div class="cart-review-item">
          <img src="${item.imageSrc}" alt="${item.name}" class="review-item-image">
          <div class="review-item-details">
            <h3 class="review-item-name">${item.name}</h3>
            <p class="review-item-brand">Brand: ${item.brand || 'AgroMePlus'}</p>
            <p class="review-item-category">Category: ${item.category || 'Agriculture'}</p>
            <p class="review-item-price">₹${item.price.toFixed(2)}</p>
            <div class="review-item-quantity">
              <span class="quantity-label">Qty:</span>
              <span class="quantity-value">${item.quantity}</span>
            </div>
          </div>
        </div>
      `).join('');
      
      // Payment method selection
      document.querySelectorAll('.payment-option .payment-label').forEach(label => {
        label.addEventListener('click', function() {
          document.querySelectorAll('.payment-label').forEach(l => {
            l.style.borderColor = 'var(--medium-gray)';
            l.style.backgroundColor = 'transparent';
          });
          this.style.borderColor = 'var(--primary-color)';
          this.style.backgroundColor = 'rgba(40, 167, 69, 0.05)';
        });
      });
      
      // UPI app selection
      document.querySelectorAll('.upi-app').forEach(app => {
        app.addEventListener('click', function() {
          document.querySelectorAll('.upi-app').forEach(a => a.classList.remove('selected'));
          this.classList.add('selected');
        });
      });
      
      // Bank selection
      document.querySelectorAll('.bank-option').forEach(bank => {
        bank.addEventListener('click', function() {
          document.querySelectorAll('.bank-option').forEach(b => b.classList.remove('selected'));
          this.classList.add('selected');
        });
      });
      
      // Place order button
      placeOrderBtn.addEventListener('click', function() {
        const shippingForm = document.getElementById('shipping-form');
        if (!shippingForm.checkValidity()) {
          shippingForm.reportValidity();
          return;
        }
        
        // In a real app, you would process the payment here
        // For demo, we'll just show a success message
        
        // Save order details
        const orderData = {
          items: checkoutData.items,
          subtotal: checkoutData.subtotal,
          tax: checkoutData.tax,
          discount: discount,
          total: total,
          shipping: document.getElementById('shipping-form').elements['full-name'].value,
          paymentMethod: document.querySelector('input[name="payment-method"]:checked').nextElementSibling.querySelector('.payment-title').textContent,
          orderDate: new Date().toISOString(),
          orderId: 'ORD-' + Math.floor(Math.random() * 1000000)
        };
        
        localStorage.setItem('orderData', JSON.stringify(orderData));
        window.location.href = 'order-success.html';
      });
    }
  </script>
</body>
</html>